{"ast":null,"code":"var _jsxFileName = \"/home/doboz/Downloads/zoid_giftcard_child-master (1)/zoid_giftcard_child-master/src/PurchaseGiftCard/index.js\";\nimport React, { Component } from 'react';\nimport { Space, Radio, Button, Col, Row, Input, message, Checkbox, Tag, InputNumber, Spin, Tabs } from 'antd';\nimport 'antd/dist/antd.css';\nimport '@ant-design/compatible/assets/index.css';\nimport { CloseOutlined, Loading3QuartersOutlined } from '@ant-design/icons';\nimport { Form } from '@ant-design/compatible';\nimport * as GiftcardAPI from '../api/Giftcard';\nimport { RESPONSE_CODES } from '../constants/API';\nimport { isEmpty } from 'lodash';\nimport ReactDOM from \"react-dom\";\nimport MyWidget from '../widget';\nimport './style.css';\nlet MyWidget1 = MyWidget.driver('react', {\n  React: React,\n  ReactDOM: ReactDOM\n});\nconst FormItem = Form.Item;\nconst {\n  TabPane\n} = Tabs;\nconst {\n  TextArea\n} = Input;\nconst value_ranges = [10, 15, 20, 25, 50];\nconst fields = {\n  amount: 'amount',\n  custom_amount: 'custom_amount',\n  promo_code: 'promo_code',\n  name: 'name',\n  email: 'email',\n  isGift: 'isGift',\n  agreetos: 'agreetos',\n  recipient_name: 'recipient_name',\n  recipient_email: 'recipient_email',\n  message: 'message',\n  quantity: 'quantity',\n  delivery_method: 'delivery_method'\n};\n\nclass PurchaseGiftCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sendEmail = e => {\n      e.preventDefault();\n      this.props.form.validateFields((error, values) => {\n        if (!error) {\n          this.toggleLoading();\n          let payload = {\n            cardnumber: values.gift_card_number\n          };\n          GiftcardAPI.checkBalance(payload).then(result => {\n            if (result.code === RESPONSE_CODES.SUCCESS) {\n              this.setState({\n                balance: result.data.balance\n              });\n            } else {\n              message.error(result.message);\n            }\n\n            this.toggleLoading();\n            this.resetReCaptcha();\n          }).catch(e => {\n            console.log(e);\n            this.toggleLoading();\n            this.resetReCaptcha();\n          });\n        }\n      });\n    };\n\n    this.state = {\n      loading: false,\n      loadingPromo: false,\n      promo_code: null,\n      discounted_amount: 0,\n      value: 0\n    };\n  }\n\n  render() {\n    const {\n      isFieldsTouched,\n      getFieldDecorator,\n      getFieldValue\n    } = this.props.form;\n    const {\n      store\n    } = {\n      app_id: \"4dk8uwhtd1qx3h918q81ei5jvjq65yf\",\n      currency: \"United States Dollar\",\n      currency_short: \"USD\",\n      currency_symbol: \"$\",\n      default_image_url: \"https://development-doboz-assets.s3-ap-southeast-1.amazonaws.com/in/giftcards/styles/4e07408562bedb8b60ce05c1decfe3ad16b72230967de01f640b7e4729b49fce/medium_rectangle_default-8b6a72aafb42c0dd21.png\",\n      default_sender_email: \"rachel@doboz.co\",\n      default_sender_name: \"Test\",\n      domain: \"doboz.mybigcommerce.com\",\n      max_card_amount: 1000,\n      min_card_amount: 10,\n      promotion: {},\n      store_name: \"doboz\",\n      store_url: \"https://doboz.mybigcommerce.com\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      gutter: 0,\n      justify: 'center',\n      style: {\n        textAlign: \"center\",\n        marginTop: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 24,\n      sm: 24,\n      md: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, \"Doboz Gift card\")))), /*#__PURE__*/React.createElement(Row, {\n      gutter: 0,\n      className: 'gx-mt-4',\n      justify: 'center',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 24,\n      sm: 6,\n      md: 6,\n      style: {\n        textAlign: \"center\",\n        marginTop: 50\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img-example\",\n      src: require('../assets/img/giftcard.png'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 8\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      xs: 24,\n      sm: 14,\n      md: 14,\n      offset: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      style: {\n        marginTop: 10\n      },\n      layout: \"vertical\",\n      onSubmit: this.sendEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      gutter: 8,\n      type: \"flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      flex: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(FormItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 22\n      }\n    }, getFieldDecorator(fields.name, {\n      rules: [{\n        required: true,\n        message: 'Please input your name'\n      }],\n      initialValue: this.props.isCustomerLoggedIn ? this.props.profile.first_name || this.props.profile.last_name ? `${this.props.profile.first_name} ${this.props.profile.last_name}` : null : null\n    })( /*#__PURE__*/React.createElement(Input, {\n      allowClear: true,\n      placeholder: \"Your name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 26\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      flex: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(FormItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 22\n      }\n    }, getFieldDecorator(fields.email, {\n      rules: [{\n        required: true,\n        message: 'Please input your email'\n      }, {\n        type: 'email',\n        message: 'Invalid email'\n      }],\n      initialValue: this.props.isCustomerLoggedIn ? this.props.profile.email || null : null\n    })( /*#__PURE__*/React.createElement(Input, {\n      allowClear: true,\n      placeholder: \"Your email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 26\n      }\n    }))))), /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      gutter: 8,\n      type: \"flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      flex: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(FormItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 26\n      }\n    }, getFieldDecorator(fields.recipient_name, {\n      rules: [{\n        required: getFieldValue('isGift'),\n        message: 'Please input recipient email'\n      }]\n    })( /*#__PURE__*/React.createElement(Input, {\n      allowClear: true,\n      placeholder: \"Recipient Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 30\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      flex: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(FormItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 26\n      }\n    }, getFieldDecorator(fields.recipient_email, {\n      rules: [{\n        required: getFieldValue('isGift'),\n        message: 'Please input recipient email'\n      }, {\n        type: 'email',\n        message: 'Invalid email'\n      }]\n    })( /*#__PURE__*/React.createElement(Input, {\n      allowClear: true,\n      placeholder: \"Recipient Email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 30\n      }\n    }))))), /*#__PURE__*/React.createElement(FormItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 22\n      }\n    }, getFieldDecorator(fields.message, {\n      rules: []\n    })( /*#__PURE__*/React.createElement(TextArea, {\n      rows: 3,\n      onChange: this.handleChangeText,\n      allowClear: true,\n      placeholder: \"Custom message...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 26\n      }\n    })))), /*#__PURE__*/React.createElement(FormItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 18\n      }\n    }, getFieldDecorator(fields.agreetos, {\n      rules: [{\n        required: true,\n        message: 'Please agree to terms of service'\n      }],\n      valuePropName: 'checked',\n      initialValue: undefined\n    })( /*#__PURE__*/React.createElement(Checkbox, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 22\n      }\n    }, \"I agree that Gift Certificates are non-refundable.\"))), /*#__PURE__*/React.createElement(Row, {\n      justify: 'center',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(FormItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      size: \"large\",\n      htmlType: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 22\n      }\n    }, \"Add to cart\")))))));\n  }\n\n}\n\nexport default Form.create()(PurchaseGiftCard);","map":{"version":3,"sources":["/home/doboz/Downloads/zoid_giftcard_child-master (1)/zoid_giftcard_child-master/src/PurchaseGiftCard/index.js"],"names":["React","Component","Space","Radio","Button","Col","Row","Input","message","Checkbox","Tag","InputNumber","Spin","Tabs","CloseOutlined","Loading3QuartersOutlined","Form","GiftcardAPI","RESPONSE_CODES","isEmpty","ReactDOM","MyWidget","MyWidget1","driver","FormItem","Item","TabPane","TextArea","value_ranges","fields","amount","custom_amount","promo_code","name","email","isGift","agreetos","recipient_name","recipient_email","quantity","delivery_method","PurchaseGiftCard","constructor","props","sendEmail","e","preventDefault","form","validateFields","error","values","toggleLoading","payload","cardnumber","gift_card_number","checkBalance","then","result","code","SUCCESS","setState","balance","data","resetReCaptcha","catch","console","log","state","loading","loadingPromo","discounted_amount","value","render","isFieldsTouched","getFieldDecorator","getFieldValue","store","app_id","currency","currency_short","currency_symbol","default_image_url","default_sender_email","default_sender_name","domain","max_card_amount","min_card_amount","promotion","store_name","store_url","textAlign","marginTop","require","rules","required","initialValue","isCustomerLoggedIn","profile","first_name","last_name","type","handleChangeText","valuePropName","undefined","create"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,KAAhB,EAAuBC,MAAvB,EAA8BC,GAA9B,EAAmCC,GAAnC,EAAwCC,KAAxC,EAA+CC,OAA/C,EAAwDC,QAAxD,EAAkEC,GAAlE,EAAuEC,WAAvE,EAAoFC,IAApF,EAA0FC,IAA1F,QAAsG,MAAtG;AACA,OAAO,oBAAP;AACA,OAAO,yCAAP;AACA,SAASC,aAAT,EAAwBC,wBAAxB,QAAwD,mBAAxD;AACA,SAASC,IAAT,QAAqB,wBAArB;AACA,OAAO,KAAKC,WAAZ,MAA6B,iBAA7B;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,OAAT,QAAwB,QAAxB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,aAAP;AAEA,IAAIC,SAAS,GAAGD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwB;AACrCvB,EAAAA,KAAK,EAAEA,KAD8B;AAErCoB,EAAAA,QAAQ,EAAEA;AAF2B,CAAxB,CAAhB;AAKA,MAAMI,QAAQ,GAAGR,IAAI,CAACS,IAAtB;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAcb,IAApB;AACA,MAAM;AAACc,EAAAA;AAAD,IAAapB,KAAnB;AACA,MAAMqB,YAAY,GAAG,CAAE,EAAF,EAAM,EAAN,EAAU,EAAV,EAAc,EAAd,EAAkB,EAAlB,CAArB;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,MAAM,EAAE,QADK;AAEbC,EAAAA,aAAa,EAAE,eAFF;AAGbC,EAAAA,UAAU,EAAE,YAHC;AAIbC,EAAAA,IAAI,EAAE,MAJO;AAKbC,EAAAA,KAAK,EAAE,OALM;AAMbC,EAAAA,MAAM,EAAE,QANK;AAObC,EAAAA,QAAQ,EAAE,UAPG;AAQbC,EAAAA,cAAc,EAAE,gBARH;AASbC,EAAAA,eAAe,EAAE,iBATJ;AAUb9B,EAAAA,OAAO,EAAE,SAVI;AAWb+B,EAAAA,QAAQ,EAAE,UAXG;AAYbC,EAAAA,eAAe,EAAE;AAZJ,CAAf;;AAeA,MAAMC,gBAAN,SAA+BxC,SAA/B,CAAyC;AAExCyC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAWlBC,SAXkB,GAWLC,CAAD,IAAO;AACjBA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKH,KAAL,CAAWI,IAAX,CAAgBC,cAAhB,CAA+B,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAChD,YAAI,CAACD,KAAL,EAAY;AACV,eAAKE,aAAL;AAEA,cAAIC,OAAO,GAAG;AACZC,YAAAA,UAAU,EAAEH,MAAM,CAACI;AADP,WAAd;AAIArC,UAAAA,WAAW,CAACsC,YAAZ,CAAyBH,OAAzB,EACCI,IADD,CACMC,MAAM,IAAI;AACd,gBAAIA,MAAM,CAACC,IAAP,KAAgBxC,cAAc,CAACyC,OAAnC,EAA4C;AAC1C,mBAAKC,QAAL,CAAc;AAAEC,gBAAAA,OAAO,EAAEJ,MAAM,CAACK,IAAP,CAAYD;AAAvB,eAAd;AACD,aAFD,MAEO;AACLrD,cAAAA,OAAO,CAACyC,KAAR,CAAcQ,MAAM,CAACjD,OAArB;AACD;;AACD,iBAAK2C,aAAL;AACA,iBAAKY,cAAL;AACD,WATD,EAUCC,KAVD,CAUQnB,CAAD,IAAO;AACZoB,YAAAA,OAAO,CAACC,GAAR,CAAYrB,CAAZ;AACA,iBAAKM,aAAL;AACA,iBAAKY,cAAL;AACD,WAdD;AAeD;AACF,OAxBD;AA0BD,KAvCiB;;AAEf,SAAKI,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,KADE;AAEXC,MAAAA,YAAY,EAAE,KAFH;AAGXrC,MAAAA,UAAU,EAAE,IAHD;AAIXsC,MAAAA,iBAAiB,EAAE,CAJR;AAKXC,MAAAA,KAAK,EAAE;AALI,KAAb;AAQH;;AA8BDC,EAAAA,MAAM,GAAG;AACR,UAAM;AAAEC,MAAAA,eAAF;AAAmBC,MAAAA,iBAAnB;AAAsCC,MAAAA;AAAtC,QAAwD,KAAKhC,KAAL,CAAWI,IAAzE;AACA,UAAM;AAAE6B,MAAAA;AAAF,QAAY;AACjBC,MAAAA,MAAM,EAAE,iCADS;AAEjBC,MAAAA,QAAQ,EAAE,sBAFO;AAGjBC,MAAAA,cAAc,EAAE,KAHC;AAIjBC,MAAAA,eAAe,EAAE,GAJA;AAKjBC,MAAAA,iBAAiB,EAAE,uMALF;AAMjBC,MAAAA,oBAAoB,EAAE,iBANL;AAOjBC,MAAAA,mBAAmB,EAAE,MAPJ;AAQjBC,MAAAA,MAAM,EAAE,yBARS;AASjBC,MAAAA,eAAe,EAAE,IATA;AAUjBC,MAAAA,eAAe,EAAE,EAVA;AAWjBC,MAAAA,SAAS,EAAE,EAXM;AAYjBC,MAAAA,UAAU,EAAE,OAZK;AAajBC,MAAAA,SAAS,EAAE;AAbM,KAAlB;AAeA,wBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,GAAD;AAAK,MAAA,MAAM,EAAE,CAAb;AAAgB,MAAA,OAAO,EAAE,QAAzB;AAAmC,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAE,QAAZ;AAAsBC,QAAAA,SAAS,EAAE;AAAjC,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAa,MAAA,EAAE,EAAE,EAAjB;AAAqB,MAAA,EAAE,EAAE,EAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADA,CADD,CADD,CADD,eASC,oBAAC,GAAD;AAAK,MAAA,MAAM,EAAE,CAAb;AAAgB,MAAA,SAAS,EAAE,SAA3B;AAAsC,MAAA,OAAO,EAAE,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAa,MAAA,EAAE,EAAE,CAAjB;AAAoB,MAAA,EAAE,EAAE,CAAxB;AAA2B,MAAA,KAAK,EAAE;AAACD,QAAAA,SAAS,EAAE,QAAZ;AAAsBC,QAAAA,SAAS,EAAE;AAAjC,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAC,aAAf;AAA8B,MAAA,GAAG,EAAEC,OAAO,CAAC,4BAAD,CAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,CADD,eAMC,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAa,MAAA,EAAE,EAAE,EAAjB;AAAqB,MAAA,EAAE,EAAE,EAAzB;AAA6B,MAAA,MAAM,EAAE,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,IAAD;AACW,MAAA,KAAK,EAAE;AAACD,QAAAA,SAAS,EAAE;AAAZ,OADlB;AAEW,MAAA,MAAM,EAAC,UAFlB;AAGW,MAAA,QAAQ,EAAE,KAAK/C,SAH1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMW,oBAAC,GAAD;AAAK,MAAA,MAAM,EAAE,CAAb;AAAgB,MAAA,IAAI,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG8B,iBAAiB,CAAC7C,MAAM,CAACI,IAAR,EAAc;AAC9B4D,MAAAA,KAAK,EAAE,CAAC;AAAEC,QAAAA,QAAQ,EAAE,IAAZ;AAAkBtF,QAAAA,OAAO,EAAE;AAA3B,OAAD,CADuB;AAE9BuF,MAAAA,YAAY,EAAE,KAAKpD,KAAL,CAAWqD,kBAAX,GAAkC,KAAKrD,KAAL,CAAWsD,OAAX,CAAmBC,UAAnB,IAAiC,KAAKvD,KAAL,CAAWsD,OAAX,CAAmBE,SAArD,GAAmE,GAAE,KAAKxD,KAAL,CAAWsD,OAAX,CAAmBC,UAAW,IAAG,KAAKvD,KAAL,CAAWsD,OAAX,CAAmBE,SAAU,EAAnI,GAAuI,IAAxK,GAAgL;AAFhK,KAAd,CAAjB,eAIC,oBAAC,KAAD;AAAO,MAAA,UAAU,MAAjB;AACE,MAAA,WAAW,EAAC,WADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJD,CADH,CADF,CADF,eAYE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGzB,iBAAiB,CAAC7C,MAAM,CAACK,KAAR,EAAe;AAC/B2D,MAAAA,KAAK,EAAE,CAAC;AAAEC,QAAAA,QAAQ,EAAE,IAAZ;AAAkBtF,QAAAA,OAAO,EAAE;AAA3B,OAAD,EAAwD;AAAE4F,QAAAA,IAAI,EAAE,OAAR;AAAiB5F,QAAAA,OAAO,EAAE;AAA1B,OAAxD,CADwB;AAE/BuF,MAAAA,YAAY,EAAE,KAAKpD,KAAL,CAAWqD,kBAAX,GAAiC,KAAKrD,KAAL,CAAWsD,OAAX,CAAmB/D,KAAnB,IAA4B,IAA7D,GAAqE;AAFpD,KAAf,CAAjB,eAIC,oBAAC,KAAD;AAAO,MAAA,UAAU,MAAjB;AACE,MAAA,WAAW,EAAC,YADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJD,CADH,CADF,CAZF,CANX,eA+Ba,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,MAAM,EAAE,CAAb;AAAgB,MAAA,IAAI,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGwC,iBAAiB,CAAC7C,MAAM,CAACQ,cAAR,EAAwB;AACxCwD,MAAAA,KAAK,EAAE,CAAC;AAAEC,QAAAA,QAAQ,EAAEnB,aAAa,CAAC,QAAD,CAAzB;AAAqCnE,QAAAA,OAAO,EAAE;AAA9C,OAAD;AADiC,KAAxB,CAAjB,eAGC,oBAAC,KAAD;AAAO,MAAA,UAAU,MAAjB;AACE,MAAA,WAAW,EAAC,gBADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHD,CADH,CADF,CADF,eAWE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGkE,iBAAiB,CAAC7C,MAAM,CAACS,eAAR,EAAyB;AACzCuD,MAAAA,KAAK,EAAE,CAAC;AAAEC,QAAAA,QAAQ,EAAEnB,aAAa,CAAC,QAAD,CAAzB;AAAqCnE,QAAAA,OAAO,EAAE;AAA9C,OAAD,EAAgF;AAAE4F,QAAAA,IAAI,EAAE,OAAR;AAAiB5F,QAAAA,OAAO,EAAE;AAA1B,OAAhF;AADkC,KAAzB,CAAjB,eAGC,oBAAC,KAAD;AAAO,MAAA,UAAU,MAAjB;AACE,MAAA,WAAW,EAAC,iBADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHD,CADH,CADF,CAXF,CADF,eAuBE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGkE,iBAAiB,CAAC7C,MAAM,CAACrB,OAAR,EAAiB;AACjCqF,MAAAA,KAAK,EAAE;AAD0B,KAAjB,CAAjB,eAGC,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAE,CAAhB;AAAmB,MAAA,QAAQ,EAAE,KAAKQ,gBAAlC;AAAoD,MAAA,UAAU,MAA9D;AACE,MAAA,WAAW,EAAC,mBADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHD,CADH,CAvBF,CA/Bb,eA+DW,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG3B,iBAAiB,CAAC7C,MAAM,CAACO,QAAR,EAAkB;AAClCyD,MAAAA,KAAK,EAAE,CAAC;AAAEC,QAAAA,QAAQ,EAAE,IAAZ;AAAkBtF,QAAAA,OAAO,EAAE;AAA3B,OAAD,CAD2B;AAElC8F,MAAAA,aAAa,EAAE,SAFmB;AAGlCP,MAAAA,YAAY,EAAEQ;AAHoB,KAAlB,CAAjB,eAKC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DALD,CADH,CA/DX,eAwEW,oBAAC,GAAD;AAAK,MAAA,OAAO,EAAE,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,SADP;AAEE,MAAA,IAAI,EAAE,OAFR;AAGE,MAAA,QAAQ,EAAC,QAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CADF,CAxEX,CADD,CAND,CATD,CADD;AAyGA;;AApKuC;;AAuKzC,eAAevF,IAAI,CAACwF,MAAL,GAAc/D,gBAAd,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Space, Radio, Button,Col, Row, Input, message, Checkbox, Tag, InputNumber, Spin, Tabs } from 'antd';\nimport 'antd/dist/antd.css';\nimport '@ant-design/compatible/assets/index.css';\nimport { CloseOutlined, Loading3QuartersOutlined } from '@ant-design/icons';\nimport { Form } from '@ant-design/compatible';\nimport * as GiftcardAPI from '../api/Giftcard';\nimport { RESPONSE_CODES } from '../constants/API';\nimport { isEmpty } from 'lodash';\nimport ReactDOM from \"react-dom\";\nimport MyWidget from '../widget';\nimport './style.css';\n\nlet MyWidget1 = MyWidget.driver('react',{\n   React: React,\n   ReactDOM: ReactDOM\n})\n\nconst FormItem = Form.Item;\nconst { TabPane } = Tabs;\nconst {TextArea} = Input;\nconst value_ranges = [ 10, 15, 20, 25, 50 ]\n\nconst fields = {\n  amount: 'amount',\n  custom_amount: 'custom_amount',\n  promo_code: 'promo_code',\n  name: 'name',\n  email: 'email',\n  isGift: 'isGift',\n  agreetos: 'agreetos',\n  recipient_name: 'recipient_name',\n  recipient_email: 'recipient_email',\n  message: 'message',\n  quantity: 'quantity',\n  delivery_method: 'delivery_method'\n};\n\nclass PurchaseGiftCard extends Component {\n\n\tconstructor(props) {\n    \tsuper(props);\n\t    this.state = {\n\t      loading: false,\n\t      loadingPromo: false,\n\t      promo_code: null,\n\t      discounted_amount: 0,\n\t      value: 0,\n\t    }\n\n\t}\n  sendEmail = (e) => {\n    e.preventDefault();\n    this.props.form.validateFields((error, values) => {\n      if (!error) {\n        this.toggleLoading();\n\n        let payload = {\n          cardnumber: values.gift_card_number\n        }\n\n        GiftcardAPI.checkBalance(payload)\n        .then(result => {\n          if (result.code === RESPONSE_CODES.SUCCESS) {\n            this.setState({ balance: result.data.balance });\n          } else {\n            message.error(result.message);\n          }\n          this.toggleLoading();\n          this.resetReCaptcha();\n        })\n        .catch((e) => {\n          console.log(e)\n          this.toggleLoading();\n          this.resetReCaptcha();\n        });\n      }\n    })\n\n  }\n\trender() {\n\t\tconst { isFieldsTouched, getFieldDecorator, getFieldValue } = this.props.form;\n\t\tconst { store } = {\n\t\t\tapp_id: \"4dk8uwhtd1qx3h918q81ei5jvjq65yf\",\n\t\t\tcurrency: \"United States Dollar\",\n\t\t\tcurrency_short: \"USD\",\n\t\t\tcurrency_symbol: \"$\",\n\t\t\tdefault_image_url: \"https://development-doboz-assets.s3-ap-southeast-1.amazonaws.com/in/giftcards/styles/4e07408562bedb8b60ce05c1decfe3ad16b72230967de01f640b7e4729b49fce/medium_rectangle_default-8b6a72aafb42c0dd21.png\",\n\t\t\tdefault_sender_email: \"rachel@doboz.co\",\n\t\t\tdefault_sender_name: \"Test\",\n\t\t\tdomain: \"doboz.mybigcommerce.com\",\n\t\t\tmax_card_amount: 1000,\n\t\t\tmin_card_amount: 10,\n\t\t\tpromotion: {},\n\t\t\tstore_name: \"doboz\",\n\t\t\tstore_url: \"https://doboz.mybigcommerce.com\",\n\t\t};\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<Row gutter={0} justify={'center'} style={{textAlign: \"center\", marginTop: 10}} >\n\t\t\t\t\t<Col xs={24} sm={24} md={24}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t<h1>Doboz Gift card</h1>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row gutter={0} className={'gx-mt-4'} justify={'center'} >\n\t\t\t\t\t<Col xs={24} sm={6} md={6} style={{textAlign: \"center\", marginTop: 50}}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<img className=\"img-example\"  src={require('../assets/img/giftcard.png')} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xs={24} sm={14} md={14} offset={2}>\n\t\t\t\t\t\t<Form\n\t\t\t              style={{marginTop: 10}}\n\t\t\t              layout=\"vertical\"\n\t\t\t              onSubmit={this.sendEmail}\n\t\t\t            >\n\t\t\t             \n\t\t\t              <Row gutter={8} type=\"flex\">\n\t\t\t                <Col flex={1}>\n\t\t\t                  <FormItem>\n\t\t\t                    {getFieldDecorator(fields.name, {\n\t\t\t                      rules: [{ required: true, message: 'Please input your name'}],\n\t\t\t                      initialValue: this.props.isCustomerLoggedIn ? ((this.props.profile.first_name || this.props.profile.last_name) ? `${this.props.profile.first_name} ${this.props.profile.last_name}` : null) : null\n\t\t\t                    })(\n\t\t\t                      <Input allowClear \n\t\t\t                        placeholder=\"Your name\" />\n\t\t\t                    )}\n\t\t\t                  </FormItem>\n\t\t\t                </Col>\n\t\t\t                <Col flex={1}>\n\t\t\t                  <FormItem>\n\t\t\t                    {getFieldDecorator(fields.email, {\n\t\t\t                      rules: [{ required: true, message: 'Please input your email'}, { type: 'email', message: 'Invalid email' }],\n\t\t\t                      initialValue: this.props.isCustomerLoggedIn ? (this.props.profile.email || null) : null\n\t\t\t                    })(\n\t\t\t                      <Input allowClear \n\t\t\t                        placeholder=\"Your email\" />\n\t\t\t                    )}\n\t\t\t                  </FormItem>\n\t\t\t                </Col>\n\t\t\t              </Row>\n\t\t\t             \n\t\t\t                <React.Fragment>\n\t\t\t                  <Row gutter={8} type=\"flex\">\n\t\t\t                    <Col flex={1}>\n\t\t\t                      <FormItem>\n\t\t\t                        {getFieldDecorator(fields.recipient_name, {\n\t\t\t                          rules: [{ required: getFieldValue('isGift'), message: 'Please input recipient email'}],\n\t\t\t                        })(\n\t\t\t                          <Input allowClear \n\t\t\t                            placeholder=\"Recipient Name\" />\n\t\t\t                        )}\n\t\t\t                      </FormItem>\n\t\t\t                    </Col>\n\t\t\t                    <Col flex={1}>\n\t\t\t                      <FormItem>\n\t\t\t                        {getFieldDecorator(fields.recipient_email, {\n\t\t\t                          rules: [{ required: getFieldValue('isGift'), message: 'Please input recipient email'}, { type: 'email', message: 'Invalid email' }],\n\t\t\t                        })(\n\t\t\t                          <Input allowClear \n\t\t\t                            placeholder=\"Recipient Email\" />\n\t\t\t                        )}\n\t\t\t                      </FormItem>\n\t\t\t                      </Col>\n\t\t\t                  </Row>\n\t\t\t                  <FormItem>\n\t\t\t                    {getFieldDecorator(fields.message, {\n\t\t\t                      rules: []\n\t\t\t                    })(\n\t\t\t                      <TextArea rows={3} onChange={this.handleChangeText} allowClear\n\t\t\t                        placeholder=\"Custom message...\" />\n\t\t\t                    )}\n\t\t\t                  </FormItem>\n\t\t\t                </React.Fragment>\n\t\t\t              <FormItem>\n\t\t\t                {getFieldDecorator(fields.agreetos, {\n\t\t\t                  rules: [{ required: true, message: 'Please agree to terms of service' }],\n\t\t\t                  valuePropName: 'checked',\n\t\t\t                  initialValue: undefined\n\t\t\t                })(\n\t\t\t                  <Checkbox>I agree that Gift Certificates are non-refundable.</Checkbox>\n\t\t\t                )}\n\t\t\t              </FormItem>\n\t\t\t              <Row justify={'center'}>\n\t\t\t                <FormItem>\n\t\t\t                  <Button\n\t\t\t                    type=\"primary\"\n\t\t\t                    size={\"large\"}\n\t\t\t                    htmlType=\"submit\"\n\t\t\t                  >\n\t\t\t                    Add to cart\n\t\t\t                  </Button>\n\t\t\t                </FormItem>\n\t\t\t              </Row>\n\t\t\t            </Form>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Form.create()(PurchaseGiftCard);"]},"metadata":{},"sourceType":"module"}